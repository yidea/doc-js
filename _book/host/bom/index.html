<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>BOM | Javascript Cookbook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.0-beta.1">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="../../host/dom/index.html" />
    
    
    <link rel="prev" href="../../host/index.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
    

        
    <div class="book" data-level="5.1" data-basepath="../.." data-revision="Tue Sep 01 2015 08:04:53 GMT-0700 (PDT)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="type/index.html">
            
                
                    <a href="../../type/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Type
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="type/primitive_value/index.html">
            
                
                    <a href="../../type/primitive_value/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Primitive values
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="type/primitive_value/string.html">
            
                
                    <a href="../../type/primitive_value/string.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.1.</b>
                        
                        String
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="type/primitive_value/number.html">
            
                
                    <a href="../../type/primitive_value/number.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.2.</b>
                        
                        Number
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="type/primitive_value/boolean,null,undefined.html">
            
                
                    <a href="../../type/primitive_value/boolean,null,undefined.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.3.</b>
                        
                        Boolean,Null,Undefined
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="type/reference_value/index.html">
            
                
                    <a href="../../type/reference_value/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Reference values
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="type/reference_value/object.html">
            
                
                    <a href="../../type/reference_value/object.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.1.</b>
                        
                        Object
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="type/reference_value/array.html">
            
                
                    <a href="../../type/reference_value/array.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.2.</b>
                        
                        Array
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="type/reference_value/function.html">
            
                
                    <a href="../../type/reference_value/function.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.3.</b>
                        
                        Function
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="type/reference_value/regular_expression.html">
            
                
                    <a href="../../type/reference_value/regular_expression.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.4.</b>
                        
                        Regular Expression
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="type/reference_value/error.html">
            
                
                    <a href="../../type/reference_value/error.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.5.</b>
                        
                        Error
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="type/typeconvert.html">
            
                
                    <a href="../../type/typeconvert.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Type Coercion
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="prototype/index.html">
            
                
                    <a href="../../prototype/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Scope &amp; Prototype Inheritance
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="prototype/scope.html">
            
                
                    <a href="../../prototype/scope.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Scope, Closure
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="prototype/prototype.html">
            
                
                    <a href="../../prototype/prototype.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Prototype Inheritance
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="oop/index.html">
            
                
                    <a href="../../oop/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        JS OOP
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="async/index.html">
            
                
                    <a href="../../async/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Async
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="async/ajax.html">
            
                
                    <a href="../../async/ajax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        AJAX, JSON, JSONP, CORS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="async/promise.html">
            
                
                    <a href="../../async/promise.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Promise, Deferred
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="async/polling.html">
            
                
                    <a href="../../async/polling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Long Polling, Websocket
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="host/index.html">
            
                
                    <a href="../../host/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        DOM, BOM &amp; Client Storage
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="5.1" data-path="host/bom/index.html">
            
                
                    <a href="../../host/bom/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        BOM
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="host/dom/index.html">
            
                
                    <a href="../../host/dom/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        DOM &amp; Event
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="host/dom/event.html">
            
                
                    <a href="../../host/dom/event.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.1.</b>
                        
                        DOM event
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="host/dom/node.html">
            
                
                    <a href="../../host/dom/node.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.2.</b>
                        
                        DOM node
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="storage/index.html">
            
                
                    <a href="../../storage/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Cookie, LocalStorage &amp; SessionStorage
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="performance/web_performance.html">
            
                
                    <a href="../../performance/web_performance.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Web Performance
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="performance/how_browser_works.html">
            
                
                    <a href="../../performance/how_browser_works.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        How Browser Works
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="performance/memory_leak.html">
            
                
                    <a href="../../performance/memory_leak.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Garbage Collection(GC) &amp; Memory Leak
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="performance/general.html">
            
                
                    <a href="../../performance/general.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        General Performance Guide
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="performance/mobile.html">
            
                
                    <a href="../../performance/mobile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Mobile Performance Guide
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="dp/index.html">
            
                
                    <a href="../../dp/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        JS Design Pattern
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="dp/mvc.html">
            
                
                    <a href="../../dp/mvc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        MVC
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="dp/observer.html">
            
                
                    <a href="../../dp/observer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Observer/Pubsub
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="dp/mediator.html">
            
                
                    <a href="../../dp/mediator.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Mediator
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="dp/factory.html">
            
                
                    <a href="../../dp/factory.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Factory
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="jquery/index.html">
            
                
                    <a href="../../jquery/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        jQuery
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="jquery/plugin.html">
            
                
                    <a href="../../jquery/plugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        jQuery Plugin Pattern
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="mvc_framework/index.html">
            
                
                    <a href="../../mvc_framework/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        MVC Framework
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="mvc_framework/angularjs.html">
            
                
                    <a href="../../mvc_framework/angularjs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        AngularJS
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="ui/index.html">
            
                
                    <a href="../../ui/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        UI Widget Pattern
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="ui/tab.html">
            
                
                    <a href="../../ui/tab.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Tab
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="ui/modal.html">
            
                
                    <a href="../../ui/modal.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Modal
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="test/index.html">
            
                
                    <a href="../../test/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        JS Unit Testing
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="tooling/index.html">
            
                
                    <a href="../../tooling/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Front end Tooling
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="tooling/grunt.html">
            
                
                    <a href="../../tooling/grunt.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Grunt
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="tooling/git.html">
            
                
                    <a href="../../tooling/git.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        Git
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="tooling/intellij.html">
            
                
                    <a href="../../tooling/intellij.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        Webstorm &amp; Intellij
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="misc/index.html">
            
                
                    <a href="../../misc/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Misc
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="misc/es6.html">
            
                
                    <a href="../../misc/es6.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        ES6
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="misc/bp.html">
            
                
                    <a href="../../misc/bp.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        JS BP
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="misc/functionaljs.html">
            
                
                    <a href="../../misc/functionaljs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Functional JS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="misc/code_quality.html">
            
                
                    <a href="../../misc/code_quality.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.4.</b>
                        
                        Code Quality &amp; Refactor
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.5" data-path="misc/seo.html">
            
                
                    <a href="../../misc/seo.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.5.</b>
                        
                        SEO
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Share on Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Share on Google</button>
                <button type="button" data-sharing="facebook" class="button">Share on Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Share on Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Javascript Cookbook</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="bom">BOM</h1>
<p>BOM is the Browser Object Model, a host environment(window) for ECMAScript, which deals with host object and host API. e.g. history, location, navigator, setInterval, Math, Date</p>
<h3 id="toc">TOC</h3>
<p><a href="http://javascript.about.com/od/browserobjectmodel/a/bom01.htm" target="_blank">http://javascript.about.com/od/browserobjectmodel/a/bom01.htm</a></p>
<ul>
<li>window object</li>
<li>Date</li>
<li><p>setInterval, setTimeout
  /*</p>
<ul>
<li>setInterval(fn, delay)</li>
<li><ul>
<li>schedule repeatly run fn every delay ms. When you set a timeout, it actually queues the asynchronous code until the engine executes the current call stack.</li>
</ul>
</li>
<li><ul>
<li>this = window</li>
</ul>
</li>
<li><ul>
<li>the delay time e.g. 100ms is not guranteed, depends on real running time, could be run the next one after 200ms if 1st one take 200ms to run, the fn is queued</li>
</ul>
</li>
<li><ul>
<li>1000ms = 1s</li>
</ul>
</li>
<li><p>*/
  var intervalId = setInterval(function () {
  console.log(&quot;setInterval&quot;); //TODO:debug
  }, 100);
  clearInterval(intervalId); // cancel schedule</p>
<p>/*</p>
</li>
<li><p>setTimeout(fn, delay)</p>
</li>
<li><ul>
<li>schedule run fn after given delay</li>
</ul>
</li>
<li><ul>
<li>this = window</li>
</ul>
</li>
<li><ul>
<li>Async/Non-block I/O: callback order is no gurantted as execution order which is depend on callback return time, so js is greate for heavy I/O system</li>
</ul>
</li>
<li><ul>
<li><a href="http://ejohn.org/blog/how-javascript-timers-work/" target="_blank">http://ejohn.org/blog/how-javascript-timers-work/</a></li>
</ul>
</li>
<li><ul>
<li><a href="http://www.brianweidenbaum.com/javascripts-settimeout-scheduled/" target="_blank">http://www.brianweidenbaum.com/javascripts-settimeout-scheduled/</a>
*</li>
</ul>
</li>
<li><ul>
<li>setTimeout(fn, 0)/ _.defer(fn)</li>
</ul>
</li>
<li>-- setTimeout(fn, 0) buys you some time until the DOM elements are loaded (and rendering is complete), even if it&#x2019;s set to 0 (run this fn code in next run loop)</li>
<li>-- This can be handy with the DOM. Sometimes you run a js, but the js which update the dom(e.g. typeahead init) don&apos;t parse or render immediately. At the end of the run loop, the browser gets back the UI thread control and parses and renders the DOM, then the next run loop starts and can interact with the newly rendered DOM w setTimout(fn, 0)</li>
<li>-- Browser has 1 single UI thread (process of JS and UI update-paint/redraw/reflow) - register async callback and event queue to non-block I/O. so UI cannot render while js is running, since responsive ui<100ms, 60="" and="" smooth="" animation="" w="" frames="" s="" need="" js="" done="" in="" 16ms,="" so="" suggeted="" to="" break="" long="" time(="">100ms) js to chunk around 5ms run-time w setTimeout. Every JavaScript execution and UI update tasks will be added to a browser event queue system, which dispatches those tasks to the browser main UI Thread. When you generate new UI updates while the UI thread is busy, maybe is doing something like performing JavaScript, then those UI updates will be pushed into the UI queue system that is responsible for dispatch the tasks to the UI thread when it is idle. setTimeout(fn, 0) requeue the fn aync at the end of current execution queue so let the current long js process to finish and the affected UI to get updated. e.g. $(&quot;#test&quot;).typeahead()..big chunk of code.. instead directly ui update, $(&quot;test&quot;).focus(),give it a setTimout(fn, 0) to make sure UI is ready and js init is done.</100ms,></li>
<li>-- Event Queue:
  var taskQueues = {
   domEventsQueue: {1ms: clickedButton},
   callbacksQueue: {3ms: runSomeFunction, 5ms: processDataFromServer}
  };</li>
<li>SetTimeout is just adding a new entry to a queue which cannot be accessed until later when current task is done and looking for new task in the queue.</li>
<li>-- = setTimeout(fn, 4), since modern browser clamp timer to minimal 4ms</li>
<li><p>*/
  var f1 = function () {
  var timeId = setTimeout(function () {
  //      console.log(&quot;f1&quot;); //TODO:debug
  }, 0);
  //  clearTimeout(timeId); // cancel schedule
  };
  var f2 = function() {};
  f1();
  f2(); //output as f2, f1 because setTimeout(fn, 0) is actually setTimeout(fn, 4), so it&apos;s aync callback</p>
<p>/*</p>
</li>
<li><p>setImmediate(fn)</p>
</li>
<li><ul>
<li>dose what setTimeout(fn, 0) is about to do, in a native &amp; better way</li>
</ul>
</li>
<li><ul>
<li>tell browser to execute fn after the last UI task in the event loop</li>
</ul>
</li>
<li><ul>
<li>but not supported in IE10- and Mozilla, Webkit, so not very useful</li>
</ul>
</li>
<li>*/</li>
</ul>
</li>
</ul>
<p>/*</p>
<ul>
<li>requestAnimationFrame()</li>
<li><ul>
<li>schedule a new paint task in the event loop queue</li>
</ul>
</li>
<li><p><em>/
  /</em></p>
<ul>
<li>@ matchMedia</li>
</ul>
<hr>
<ul>
<li><ul>
<li>work with css media query IE10+</li>
</ul>
</li>
<li><ul>
<li>Codepen: <a href="http://codepen.io/yidea/pen/pAxhi/" target="_blank">http://codepen.io/yidea/pen/pAxhi/</a>
*/</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="date">Date</h3>
<iframe width="100%" height="350" src="http://jsbin.com/nipaz/embed/?js" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../host/index.html" class="navigation navigation-prev " aria-label="Previous page: DOM, BOM &amp; Client Storage"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../host/dom/index.html" class="navigation navigation-next " aria-label="Next page: DOM &amp; Event"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-jsbin/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
